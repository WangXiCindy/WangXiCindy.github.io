---
title: J2ee-API学习笔记
status: Writing
commentable: false
Edit: 2020-9-28
mathjax: false
mermaid: true
tags: Java
categories: JAVA
Typora-root-url: ..
description: 本文为J2EE的课堂笔记，个人使用，仅供参考，如有错误，欢迎给我发邮件或者通过友链进行留言。（详情请见About）
---

# JavaSE

## 接口

- java.io
- java.net
- java.util

## 函数

- 输入输出流
  - getInputStream();
    - DataInputStream(in);
  - getOutputStream();
    - out.write();
    - DataOutputStream(out);
- Object
  - wait
  - notify
  - notifyAll
- 包装类
  - Integer
  - Long
  - Float
  - Double
  - Character
  - Boolean
  - Short
  - Byte

## 注意问题

- C++和java混合编程需要注意数据问题，两种语言数据读取不同
- 不能抛出被覆盖函数没有定义的其他异常

# J2EE API

Web应用程序--由组件构成

## javax.servlet

- 方法
  - init(ServletConfig config)
    - void
    - 初始化
    - \< init-param \>
  - service(ServletRequest req,ServletResponse res)
    - void
    - servlet回应request
    - throw ServletException,IOException
  - destroy()
    - void
    - 消毁
  - getServletConfig()
    - ServletConfig
    - 返回配置object，包括init和startup参数
  - getServletInfo()
    - String
    - 返回相关信息
- 接口
  - ServletConfig：
    - 方法
      - getInitParameter(String name)
        - String
        - 返回初始化参数
        - getParameter（返回网络返回的参数）
      - getInitParameterNames()（注意是Name**s**）
        - Enumeration\<String\>
        - 返回值类型为Enumeration\<String\>的servlet初始化参数名字
      - getServletContext()
        - ServletContext
      - getServletName()
        - String
  - **ServletContext**
    - getContextPath()
      - String
      - 返回web应用的的上下文路径
        - 部署在根下面：返回空串
        - 部署在根下的某资源：如 /first
        - 如http://www.abc.com/first/hello上下文路径是
          - 答案不能确定
          - （因为不知道应用是first还路径是first？有可能直接把应用放在根下，上下文路径就是‘ \ ’ ）
    - getInitParameter(String name)
      - String
      - 组件的配置
    - getRealPath(String path)
      - String
      - 文件系统中的目录结构（虚拟路径是在web服务器上的路径）
  - **Filter**
    - 方法
      - destroy()
        - default void
        - Web container调用
      - doFilter(ServletRequest request,ServletResponse response, FilterChain chain)
        - Void
        - 完成具体的过滤操作，然后通过FilterChain让请求继续向下传递
      - init(FilterConfig filterConfig)
        - void
        - 过滤器初始化（**容器启动时初始化**）时调用，可以通过FilterConfig去的web.xml中配置的初始化参数。
  - **RequestDispatcher**
    - 方法
      - forward(ServletRequest request, ServletResponse response)
        - void
      - include(ServletRequest request, ServletResponse response)
        - void
- 类：
  - GenericServlet
    - init()
      - void	
      - 初始化可以被overridden的方法，所以不需要调用super.init(config)
    - init(ServletConfig config)
      - void
      - Servlet container调用--servlet被放置到service里
    - log(String msg)
      - void
    - log(String message,Throwable t)
      - void
    - service(ServletRequest req,ServletResponse res)
      - abstract void
      - Servlet container调用--servlet响应request
  - HttpServlet
    - doGet(HttpServletRequest req,HttpServletResponse resp)
      - protected void
      - 处理GET请求
    - doPost(HttpServletRequest req,HttpServletResponse resp)
      - protected void
      - 处理POST请求
    - HttpServletResponse
      - setContentType
    - getWriter();
  - ServletContextEvent
    - ServletContextEvent(ServletContext source)
    - getServletContext
      - 返回ServletContext
  - GenericFilter
  - HttpFilter

## javax.servlet.annotation

- Annotation Type WebServlet
  - asyncSupported
    - boolean
    - 声明servlet是否支持同步操作模式
  - description
    - String
    - 形容
  - displayName
    - String
    - servlet展示出的名字
  - initParams
    - WebInitParam[]
    - servlet初始参数
  - largeIcon
    - String
  - loadOnStartup
    - int
    - load-on-startup命令
  - name
    - String
  - SmallIcon
    - String
    - Small-icon
  - urlPatterns
    - String[]
  - value
    - URL patterns（同上一个）
    - String[]

## javax.servlet.http

- 接口
  - HttpServletRequest
    - getCookies( )
      - 返回一个Cookie array
      - Cookie[]
    - getSession( )
      - 返回目前request对应的session
      - HttpSession
    - getSession(boolean create)
      - 返回目前request对应的session
      - ttpSession
  - **HttpSession**
    - getAttributeNames( )
      - Enumeration of String objects 包括所有该进程的objects
      - Enumeration \< String \>
    - getAttribute(String name)
      - Object
    - setAttribute(String name，Object value)
      - void
    - setMaxInactiveInterval(int interval)
      - 单位：秒
      - 设置多长时间超时
      - 注意web.xml时间单位是分钟
      - void
- 类
  - Cookie
    - 构造函数：Cookie(String name, String value)

## javax.servlet.jsp

- java服务器界面的编程语言，在html中内嵌java代码
- 继承了servlet
- 部署可以在web.xml文件中声明jsp组件
- 支持EL语言
  - 预定义对象（除pageContext外都是Map类型）
- Jsp action
  - 类之间关系
    - 继承
    - 聚合
      - 整体和部分在生命周期上是一致的
    - 使用
  - include
    - <jsp:include page=“/uri” />
  - forward
    - <jsp:forward page=“/uri” />
  - useBean
    - <jsp:useBean id=“a” class=“SomeClazz” scope=“page|request|session|application”/>
  - getProperty
    - <jsp:getProperty name=“a” property=“age”/>
    - <jsp:setProperty name=“a” property=“age” value=“18”/>
    - <jsp:setProperty name=“a” property=“age” param=“age”/>
      - 上两行相当于
      - <% a.setAge( Integer.parseInt(request.getParameter("age"))) >
    - <jsp:setProperty name=“a” property=“*”/>
- 语法
  - <%@ 	%>
    -  jsp 指令。
  - <%=      %>
    -  jsp 表达式。
  - <%!        %>
    -  jsp 声明。
  - <%—       —%>
    -  jsp 注释，是两个-，不是⼀个破折号。两个减号
- 接口
  - Interface Jspage
    - jspDestory（）
      - void
    - jspInit（）
      - void
- 类
  - JspWriter
  - PageContext
    - extends JspContext
  - JspContext
    - setAttribute
      - (String name, Object value)
      - (String name, Object value, int scope)
    - getAttribute
      - (String name)
      - (String name, int scope)
    - removeAttribute
      - (String name)
      - (String name, int scope)

# XML

- 名

  \<servlet-name\>

  \<param-name\>

- 值

  \<servlet-class\>

  \<param-value\>

- 对

## JSP

- struts1
  - org.apache.struts.action.ActionServlet
  - LookupDispatchAction
  - DispatchAction（不考）

# HTTP缓存机制

- 链接：https://www.cnblogs.com/ranyonsue/p/8918908.html

# J2EE其余相关

- J2EE是什么：

  - 建立在JavaSE基础之上，要有JRE（JVM，API）
  - UI
      - AWT
    - Swing
      - JavaFx
    - IO
      - FileInputStream
    - FileOutputStream
  
- 网络

  - 协议：http/https

    - request/response

      ```java
      Socket s=new Socket("www.baidu.com",80);
      ```

    - 端口：注意请求的网站是否在这个接口启动监听服务

  - Tomcat(服务端)

    - 配合Servlet使用
    
  - HttpClient/HttpComponent(客户端)

- 文件结构

  - WEB-INF
    - classes：可执行文件

      - a.properties

    - lib：生成的jar文件（库文件）

    - tags

    - web.xml：配置

      - Servlet

        - Servlet mapping

        - servlet-class
    
        - 例子
    
          ```html
          <servlet>
              <servlet-name>LoginServlet</servlet-name>
              <servlet-class>com.breeze.servlet.LoginServlet</servlet-class>
          </servlet>
          <servlet-mapping>
          <servlet-name>LoginServlet</servlet-name>
              <url-pattern>/servlet/LoginServlet</url-pattern>
          </servlet-mapping>
          ```
    
    - conf
    
      - a.properties
  
- 考点

  - request
  - response
  - session
  - config
  - application
  - out
  - page
  - pageContext
  - exception